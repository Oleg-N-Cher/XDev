MODULE Best40Test; (*$MAIN*)

IMPORT
	B40 := Best40, B := Basic;

TYPE
  TextDesc = ARRAY 32 OF CHAR;

CONST
  Text = TextDesc("Hello World of the Spectrum !!!");

VAR
	i: INT8; udg: ADRINT; text2ch: ARRAY 2 OF CHAR;

BEGIN
	B.Init; B.CLS;

	text2ch[1] := 0X;
	FOR i := 0 TO 31 DO text2ch[0] := Text[i]; B40.PRSTR_AT(i, i, text2ch) END;

	FOR i := 16 TO 1 BY -1 DO B40.ASRL_LF(20H); B.PAUSE(5) END;
	FOR i := 16 TO 1 BY -1 DO B40.ASRL_UP(31H); B.PAUSE(5) END;
	FOR i := 6 TO 1 BY -1 DO B40.ASRL_RG(29H); B.PAUSE(5) END;
	FOR i := 5 TO 1 BY -1 DO B40.ASRL_DN(17H); B.PAUSE(5) END;

	FOR i := 31H TO 71H DO B40.AREPLC(i, i+1); B.PAUSE(5) END;
	B40.ACHANGE(0F7H, 1);

	FOR i := 127 TO 1 BY -2 DO B40.PFIGURE(i*2, i, "065088060") END;
	FOR i := 127 TO 1 BY -2 DO B40.PFIGURE(i*2, i+10, "065088060") END;

	FOR i := 16 TO 1 BY -1 DO
		B40.SSRL_LF; B40.SSRL_UP; B40.SSRL_RG; B40.SSRL_DN;
	END;

	FOR i := 99 TO 1 BY -2 DO B40.PFIGURE(i*2, i+26, "06050808060") END;

	B40.ASRL_RG(04H + 23H);
	B40.ASRL_DN(04H + 25H);

	FOR i := 10 TO 1 BY -1 DO B40.SCR_INV END;

	B40.PAINT(0, 0);
	FOR i := 64 TO 1 BY -1 DO B40.PSRL_LF END;
	FOR i := 32 TO 1 BY -1 DO B40.PSRL_RG END;
	FOR i := 16 TO 1 BY -1 DO B40.PSRL_DN END;
	FOR i := 16 TO 1 BY -1 DO B40.PSRL_UP END;
	B40.SCR_INV; B40.SCR_INV;

	B40.SCR_MRG(0000H);

	B.DEFDATA(udg, 8*8);
	B.DATA8(01EH,036H,066H,066H,07EH,066H,066H,000H);
	B.DATA8(07CH,060H,060H,07CH,066H,066H,07CH,000H);
	B.DATA8(07CH,066H,066H,07CH,066H,066H,07CH,000H);
	B.DATA8(07EH,060H,060H,060H,060H,060H,060H,000H);
	B.DATA8(038H,06CH,06CH,06CH,06CH,06CH,0FEH,0C6H);
	B.DATA8(07EH,060H,060H,07CH,060H,060H,07EH,000H);
	B.DATA8(0DBH,0DBH,07EH,03CH,07EH,0DBH,0DBH,000H);
	B.DATA8(03CH,066H,006H,01CH,006H,066H,03CH,000H);
	B.UDG(udg);
	B.PRUDG("A"); B.PRUDG("B"); B.PRUDG("C"); B.PRUDG("D");
	B.PRUDG("E"); B.PRUDG("F"); B.PRUDG("G"); B.PRUDG("H"); B.PRLN;
	FOR i := 0*8 TO 7*8 BY 8 DO B40.SINV_LR(udg + i) END;
	B.PRUDG("A"); B.PRUDG("B"); B.PRUDG("C"); B.PRUDG("D");
	B.PRUDG("E"); B.PRUDG("F"); B.PRUDG("G"); B.PRUDG("H"); B.PRLN;
	FOR i := 0*8 TO 7*8 BY 8 DO B40.SINV_UD(udg + i) END;
	B.PRUDG("A"); B.PRUDG("B"); B.PRUDG("C"); B.PRUDG("D");
	B.PRUDG("E"); B.PRUDG("F"); B.PRUDG("G"); B.PRUDG("H"); B.PRLN;
	FOR i := 0*8 TO 7*8 BY 8 DO B40.SINV_LR(udg + i) END;
	B.PRUDG("A"); B.PRUDG("B"); B.PRUDG("C"); B.PRUDG("D");
	B.PRUDG("E"); B.PRUDG("F"); B.PRUDG("G"); B.PRUDG("H"); B.PRLN;
	FOR i := 0*8 TO 7*8 BY 8 DO B40.SINV_UD(udg + i); B40.SROTATE(udg + i) END;
	B.PRUDG("A"); B.PRUDG("B"); B.PRUDG("C"); B.PRUDG("D");
	B.PRUDG("E"); B.PRUDG("F"); B.PRUDG("G"); B.PRUDG("H"); B.PRLN;
	FOR i := 0*8 TO 7*8 BY 8 DO B40.SROTATE(udg + i); B40.SROTATE(udg + i) END;
	B.PRUDG("A"); B.PRUDG("B"); B.PRUDG("C"); B.PRUDG("D");
	B.PRUDG("E"); B.PRUDG("F"); B.PRUDG("G"); B.PRUDG("H"); B.PRLN;

	B40.PSCALER(0, 0, 63, 47, 3, 3, 32, 48);

	B.BORDER(B.Olive); B.PAUSE(B.WaitAKey);
	B40.SCREEN_APART(16);
	B.Quit;
END Best40Test.